<!DOCTYPE html>
<html lang="en">
<head>
   
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="dbfc89456a05e36c" />
    
    <meta name="description" content="Professional GST & Non-GST Invoice Generator Online - Create, Edit, Download invoices with units (kg, liter, piece), return due date tracking, PDF generation, invoice history, dark mode, local storage. Free invoice maker for Indian businesses with SEO-friendly templates.">
    <meta name="keywords" content="invoice generator, GST invoice generator India, free invoice maker, invoice PDF download, professional invoice template, business invoice software, online invoice generator, return due date invoice, unit based invoice, piece kg liter invoice">
    <meta name="author" content="ToolNest">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="theme-color" content="#0f766e">
    
    <meta property="og:title" content="Professional GST Invoice Generator - Create & Download Invoice PDF Online">
    <meta property="og:description" content="Free online invoice generator tool with GST support, logo upload, return due date, multiple units (kg, liter, piece), PDF download, invoice history & dark mode">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://toolnest.com/tools/invoice-generator">
    <meta property="og:image" content="https://toolnest.com/images/invoice-generator.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Free Professional Invoice Generator - GST Invoice Maker">
    <meta name="twitter:description" content="Create professional invoices online with GST, units, return dates, PDF download">
    <meta name="twitter:image" content="https://toolnest.com/images/invoice-generator.png">
    
    <title>Professional GST Invoice Generator Online | Free Invoice Maker | ToolNest</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='75' font-size='75' font-weight='bold' fill='%230f766e'>‚Çπ</text></svg>">
    <link rel="canonical" href="https://toolnest.com/tools/invoice-generator">
    
    <link rel="stylesheet" href="style.css">
    <!-- Favicons -->
<link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/favicon.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="theme-color" content="#2563eb">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <!-- Structured Data - 300+ Words SEO Content -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Professional GST Invoice Generator",
      "description": "ToolNest Invoice Generator is a comprehensive online invoicing solution designed specifically for Indian businesses. Create professional GST and non-GST invoices with multiple unit options including kilograms (kg), liters, grams, pieces, boxes, and packs. The tool features automatic return due date tracking, real-time PDF generation, secure local storage history management, and dark mode support. Our invoice generator eliminates the need for expensive accounting software by providing a free, easy-to-use platform that handles complex calculations automatically. Whether you're a freelancer, small business, retailer, or service provider, this invoice maker helps you maintain professional invoice records with GST compliance. Features include logo upload capability, itemized billing with flexible units, discount and tax calculations, printable invoices optimized for A4 format, invoice history dashboard with load and edit functionality, and keyboard shortcuts for power users. The platform supports both GST-registered and non-GST businesses, making it versatile for any business model. Create unlimited invoices, manage invoice history with automatic saving, and download invoices as PDF files instantly. Perfect for managing freelance projects, retail sales, service invoicing, and business transactions with complete record keeping.",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web-based",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "INR"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "ratingCount": "2500"
      },
      "creator": {
        "@type": "Organization",
        "name": "ToolNest",
        "url": "https://toolnest.com"
      },
      "featureList": [
        "GST Invoice Generation",
        "Multiple Unit Support (kg, liter, piece, box, gram)",
        "Return Due Date Tracking",
        "PDF Download with Dynamic Page Layout",
        "Invoice History Dashboard",
        "Dark Mode Support",
        "Logo Upload",
        "Real-time Calculations",
        "Local Storage History",
        "Print-Friendly Invoices",
        "Mobile Responsive Design",
        "Keyboard Shortcuts",
        "Discount Management",
        "Tax Calculations"
      ]
    }
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #0f766e;
            --primary-dark: #065f46;
            --secondary: #10b981;
            --danger: #dc2626;
            --light-bg: #f8fafc;
            --light-text: #0f172a;
            --light-card: #ffffff;
            --light-border: #e2e8f0;
            --dark-bg: #020617;
            --dark-text: #e5e7eb;
            --dark-card: #0f172a;
            --dark-border: #1e293b;
        }

        html.dark {
            --light-bg: var(--dark-bg);
            --light-text: var(--dark-text);
            --light-card: var(--dark-card);
            --light-border: var(--dark-border);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-bg);
            color: var(--light-text);
            transition: background-color 0.3s, color 0.3s;
            line-height: 1.6;
        }

        .topbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 25px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 999;
        }

        .topbar .logo {
            color: white;
            font-size: 22px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .topbar .nav-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .topbar a {
            color: white;
            font-weight: 500;
            text-decoration: none;
            transition: 0.3s;
        }

        .topbar a:hover {
            opacity: 0.8;
        }

        #darkToggle {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 18px;
            transition: 0.3s;
        }

        #darkToggle:hover {
            background: rgba(255,255,255,0.3);
        }

        .mini-hero {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 50px 20px;
            text-align: center;
        }

        .mini-hero h1 {
            font-size: 36px;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .mini-hero p {
            font-size: 16px;
            opacity: 0.95;
            max-width: 600px;
            margin: 0 auto;
        }

        .container {
            max-width: 1100px;
            margin: 40px auto;
            padding: 0 20px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--light-border);
        }

        .tab-btn {
            padding: 12px 20px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            color: var(--light-text);
            transition: 0.3s;
        }

        .tab-btn.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-btn:hover {
            color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
            border-left: 4px solid;
        }

        .alert.show {
            display: block;
            animation: slideIn 0.3s ease-in-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border-left-color: #10b981;
        }

        html.dark .alert-success {
            background: #064e3b;
            color: #d1fae5;
        }

        .alert-error {
            background: #fee2e2;
            color: #7f1d1d;
            border-left-color: #dc2626;
        }

        html.dark .alert-error {
            background: #7f1d1d;
            color: #fecaca;
        }

        .tool-box {
            background: var(--light-card);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid var(--light-border);
            margin-bottom: 25px;
        }

        .tool-box h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 18px;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 10px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            margin-bottom: 6px;
            font-weight: 600;
            font-size: 13px;
            color: var(--light-text);
        }

        input, select, textarea {
            padding: 10px 12px;
            border: 1px solid var(--light-border);
            border-radius: 6px;
            font-size: 14px;
            background-color: var(--light-card);
            color: var(--light-text);
            font-family: inherit;
            transition: 0.3s;
        }

        html.dark input,
        html.dark select,
        html.dark textarea {
            background-color: #1e293b;
            border-color: var(--dark-border);
            color: var(--dark-text);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(15, 118, 110, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 70px;
        }

        .items-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--light-card);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .items-table thead {
            background: var(--primary);
            color: white;
        }

        .items-table th, .items-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--light-border);
        }

        .items-table th {
            font-weight: 600;
            font-size: 13px;
            text-transform: uppercase;
        }

        .items-table tbody tr:hover {
            background: rgba(15, 118, 110, 0.05);
        }

        .items-table input, .items-table select {
            width: 100%;
            margin: 0;
            padding: 6px;
        }

        .item-total {
            font-weight: 700;
            color: var(--primary);
        }

        .btn-remove {
            background: var(--danger);
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: 0.3s;
        }

        .btn-remove:hover {
            background: #b91c1c;
        }

        button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
            font-size: 14px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(15, 118, 110, 0.3);
        }

        .btn-secondary {
            background: #64748b;
            color: white;
        }

        .btn-secondary:hover {
            background: #475569;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background: #b91c1c;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .invoice-preview {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid var(--light-border);
            margin-bottom: 30px;
            color: #000;
            page-break-inside: avoid;
        }

        .invoice-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 20px;
        }

        .invoice-logo {
            max-width: 150px;
            max-height: 150px;
            border-radius: 8px;
        }

        .invoice-title h2 {
            color: var(--primary);
            font-size: 32px;
            margin-bottom: 5px;
        }

        .invoice-details {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .detail-block h4 {
            color: var(--primary);
            font-size: 12px;
            text-transform: uppercase;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .detail-block p {
            font-size: 13px;
            margin-bottom: 5px;
            color: #333;
        }

        .invoice-table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
        }

        .invoice-table thead {
            background: #f3f4f6;
            border-bottom: 2px solid var(--primary);
        }

        .invoice-table th {
            padding: 10px;
            text-align: left;
            font-weight: 600;
            color: var(--primary);
            font-size: 12px;
            text-transform: uppercase;
        }

        .invoice-table td {
            padding: 10px;
            border-bottom: 1px solid #e5e7eb;
            font-size: 13px;
        }

        .invoice-table th:nth-child(n+2),
        .invoice-table td:nth-child(n+2) {
            text-align: right;
        }

        .invoice-totals {
            display: flex;
            justify-content: flex-end;
            margin-top: 30px;
            border-top: 2px solid #ddd;
            padding-top: 20px;
        }

        .totals-column {
            width: 350px;
        }

        .totals-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 13px;
        }

        .totals-row.grand {
            font-size: 16px;
            font-weight: 700;
            color: var(--primary);
            border-top: 1px solid #ddd;
            padding-top: 10px;
            margin-top: 10px;
        }

        .history-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .history-card {
            background: var(--light-card);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border-left: 4px solid var(--primary);
            transition: 0.3s;
        }

        .history-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }

        .history-card h4 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 15px;
            font-weight: 700;
        }

        .history-card p {
            font-size: 13px;
            margin-bottom: 8px;
            color: #666;
        }

        html.dark .history-card p {
            color: #ccc;
        }

        .card-actions {
            display: flex;
            gap: 8px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .card-actions button {
            flex: 1;
            min-width: 70px;
            padding: 6px 10px;
            font-size: 12px;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .ad-space {
            background: var(--light-card);
            border: 2px dashed var(--light-border);
            border-radius: 12px;
            padding: 60px 20px;
            text-align: center;
            color: var(--light-text);
            margin: 40px 0;
            font-size: 14px;
            font-weight: 600;
        }

        .ad-note {
            color: #999;
            font-size: 12px;
            margin-top: 10px;
        }

        footer {
            background: #020617;
            color: #e5e7eb;
            padding: 40px 20px;
            text-align: center;
            margin-top: 60px;
        }

        footer p {
            margin-bottom: 10px;
            font-size: 13px;
        }

        footer a {
            color: #93c5fd;
            margin: 0 8px;
            text-decoration: none;
            transition: 0.3s;
        }

        footer a:hover {
            color: #60a5fa;
        }

        @media(max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }

            .invoice-details {
                grid-template-columns: 1fr;
            }

            .invoice-preview {
                padding: 20px;
            }

            .items-table th, .items-table td {
                padding: 8px;
                font-size: 12px;
            }

            button {
                width: 100%;
            }

            .history-grid {
                grid-template-columns: 1fr;
            }

            .topbar {
                flex-direction: column;
                gap: 10px;
            }
        }

        @media print {
            body {
                background: white;
            }

            .topbar, .tabs, .tool-box, .btn-group, .ad-space, footer {
                display: none !important;
            }

            .invoice-preview {
                box-shadow: none;
                border: none;
                padding: 0;
            }

            .tab-content {
                display: block !important;
            }
        }

        small {
            font-size: 12px;
            color: #999;
            display: block;
            margin-top: 5px;
        }

        .unit-selector {
            display: flex;
            gap: 8px;
            margin-top: 5px;
        }

        .unit-btn {
            padding: 4px 8px;
            border: 1px solid var(--light-border);
            background: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 11px;
            transition: 0.2s;
        }

        .unit-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
    </style>

        
      
</head>
<body class="tool-invoice">

<!-- Header -->
<div class="topbar">
    <div class="logo">‚Çπ ToolNest Invoice Generator</div>
    <div class="nav-right">
        <a href="javascript:history.back()">‚Üê Back</a>
        <button id="darkToggle" onclick="toggleDarkMode()" title="Toggle Dark Mode">üåô</button>
    </div>
</div>

<!-- Hero Section -->
<section class="mini-hero">
    <h1>Professional Invoice Generator</h1>
    <p>Create, Download & Manage GST Invoices with Multiple Units & Return Tracking</p>
</section>

<!-- Main Container -->
<div class="container">
    
    <!-- Alerts -->
    <div id="alertBox"></div>
    
    <!-- Tabs -->
    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('create')">üìã Create Invoice</button>
        <button class="tab-btn" onclick="switchTab('history')">üìÇ History</button>
    </div>
    
    <!-- TAB 1: Create Invoice -->
    <div id="create" class="tab-content active">
        
        <!-- Business Details -->
        <div class="tool-box">
            <h3>Business Details</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label>Business Name *</label>
                    <input type="text" id="bizName" placeholder="Your Company Name" required>
                </div>
                <div class="form-group">
                    <label>Business Email (Optional)</label>
                    <input type="email" id="bizEmail" placeholder="info@company.com">
                </div>
                <div class="form-group">
                    <label>GST Number (Optional)</label>
                    <input type="text" id="gstNumber" placeholder="18ABCDE1234F2Z5">
                    <small>Format: 15 characters, e.g., 18AABCT1234F2Z5</small>
                </div>
                <div class="form-group">
                    <label>Business Address (Optional)</label>
                    <textarea id="bizAddress" placeholder="Complete address"></textarea>
                </div>
                <div class="form-group">
                    <label>Logo (Optional)</label>
                    <input type="file" id="logoUpload" accept="image/*">
                    <small>Max 500KB, Recommended: 150x150px</small>
                </div>
            </div>
        </div>
        
        <!-- Customer Details -->
        <div class="tool-box">
            <h3>Customer Details</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label>Customer Name *</label>
                    <input type="text" id="clientName" placeholder="Customer/Client Name" required>
                </div>
                <div class="form-group">
                    <label>Customer Email (Optional)</label>
                    <input type="email" id="clientEmail" placeholder="customer@email.com">
                </div>
                <div class="form-group">
                    <label>Customer Phone (Optional)</label>
                    <input type="tel" id="clientPhone" placeholder="+91 98765 43210">
                </div>
                <div class="form-group">
                    <label>Customer Address (Optional)</label>
                    <textarea id="clientAddress" placeholder="Complete address"></textarea>
                </div>
            </div>
        </div>
        
        <!-- Invoice Details -->
        <div class="tool-box">
            <h3>Invoice Information</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label>Invoice Number *</label>
                    <input type="text" id="invoiceNo" placeholder="INV-001" required>
                </div>
                <div class="form-group">
                    <label>Invoice Date</label>
                    <input type="date" id="invoiceDate" required>
                </div>
                <div class="form-group">
                    <label>Due Date (Optional)</label>
                    <input type="date" id="dueDate">
                </div>
                <div class="form-group">
                    <label>Return Due Date (Optional)</label>
                    <input type="date" id="returnDueDate">
                    <small>For tracking item returns from customer</small>
                </div>
            </div>
        </div>
        
        <!-- Items Section -->
        <div class="tool-box">
            <h3>Invoice Items (Automatic Page Adjustment)</h3>
            
            <table class="items-table">
                <thead>
                    <tr>
                        <th>Item Name</th>
                        <th style="width: 120px;">Quantity</th>
                        <th style="width: 100px;">Unit</th>
                        <th style="width: 100px;">Price</th>
                        <th style="width: 100px;">Amount</th>
                        <th style="width: 70px;">Action</th>
                    </tr>
                </thead>
                <tbody id="itemsTable">
                    <tr class="item-row">
                        <td><input type="text" class="item-name" placeholder="Item/Service Name"></td>
                        <td><input type="number" class="item-qty" value="1" min="1" step="0.01" onchange="calculateTotals()"></td>
                        <td>
                            <select class="item-unit" onchange="calculateTotals()">
                                <option value="Piece">Piece</option>
                                <option value="kg">kg</option>
                                <option value="g">g</option>
                                <option value="Liter">Liter</option>
                                <option value="ml">ml</option>
                                <option value="Box">Box</option>
                                <option value="Pack">Pack</option>
                                <option value="Set">Set</option>
                                <option value="Hour">Hour</option>
                                <option value="Day">Day</option>
                                <option value="Month">Month</option>
                            </select>
                        </td>
                        <td><input type="number" class="item-price" value="0" min="0" step="0.01" onchange="calculateTotals()"></td>
                        <td class="item-total">0.00</td>
                        <td><button class="btn-remove" onclick="removeItem(this)">‚úï</button></td>
                    </tr>
                </tbody>
            </table>
            
            <button class="btn-primary" onclick="addItemRow()">+ Add Item</button>
        </div>
        
        <!-- Calculations -->
        <div class="tool-box">
            <h3>Calculations</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label>Discount % (Optional)</label>
                    <input type="number" id="discountPercent" value="0" min="0" max="100" step="0.01" onchange="calculateTotals()">
                </div>
                <div class="form-group">
                    <label>Discount Amount (Auto)</label>
                    <input type="number" id="discountAmount" value="0" readonly>
                </div>
                <div class="form-group">
                    <label>GST % (Optional)</label>
                    <input type="number" id="gstPercent" value="0" min="0" max="100" step="0.01" onchange="calculateTotals()">
                </div>
                <div class="form-group">
                    <label>GST Amount (Auto)</label>
                    <input type="number" id="gstAmount" value="0" readonly>
                </div>
            </div>
        </div>
        
        <!-- Action Buttons -->
        <div class="btn-group">
            <button class="btn-primary" onclick="generateInvoice()">üìã Preview Invoice</button>
            <button class="btn-secondary" onclick="downloadPDF()">üì• Download PDF</button>
            <button class="btn-secondary" onclick="printInvoice()">üñ®Ô∏è Print</button>
            <button class="btn-danger" onclick="clearForm()">üóëÔ∏è Clear Form</button>
        </div>
        
    </div>
    
    <!-- TAB 2: History -->
    <div id="history" class="tab-content">
        
        <div class="tool-box">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin: 0;">Invoice History</h3>
                <button class="btn-danger" onclick="clearHistory()">Clear All</button>
            </div>
            
            <div id="historyContainer" class="history-grid">
                <!-- History loaded here -->
            </div>
        </div>
        
    </div>
    
    <!-- Invoice Preview -->
    <div id="invoicePreview" style="display: none;">
        <div class="invoice-preview" id="pdfContent">
            <!-- Invoice generated here -->
        </div>
        
        <div class="btn-group">
            <button class="btn-primary" onclick="downloadPDF()">üì• Download PDF</button>
            <button class="btn-secondary" onclick="printInvoice()">üñ®Ô∏è Print</button>
            <button class="btn-secondary" onclick="editInvoice()">‚úèÔ∏è Edit</button>
            <button class="btn-danger" onclick="closePreview()">‚úï Close</button>
        </div>
    </div>
    
    <!-- Advertisement Space -->
    <div class="ad-space">
        <div style="font-size: 18px; font-weight: 700; color: var(--primary);">üì¢ ADVERTISEMENT SPACE</div>
        <div class="ad-note">
            Your ad space here - 300x250px or 728x90px banner<br>
            Contact: ads@toolnest.com | Reach thousands of Indian businesses daily
        </div>
    </div>
    
</div>

<!-- Footer -->
<footer>
    <p>&copy; 2024 ToolNest | Professional Invoice Generator for Indian Businesses</p>
    <div>
        <a href="#privacy">Privacy Policy</a>
        <a href="#terms">Terms of Service</a>
        <a href="#contact">Contact</a>
        <a href="#blog">Blog</a>
    </div>
    <p style="margin-top: 15px; font-size: 12px;">Free GST Invoice Generator | Made with ‚ù§Ô∏è for Indian Businesses</p>
</footer>

<!-- Scripts -->
<script>
    // ===================== DARK MODE =====================
    function toggleDarkMode() {
        document.documentElement.classList.toggle('dark');
        localStorage.setItem('darkMode', document.documentElement.classList.contains('dark'));
    }

    function initDarkMode() {
        if (localStorage.getItem('darkMode') === 'true') {
            document.documentElement.classList.add('dark');
        }
    }

    // ===================== TAB SWITCHING =====================
    function switchTab(tabName) {
        document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        
        document.getElementById(tabName).classList.add('active');
        event.target.classList.add('active');
        
        if (tabName === 'history') {
            loadHistory();
        }
    }

    // ===================== ALERTS =====================
    function showAlert(message, type = 'success') {
        const alertBox = document.getElementById('alertBox');
        const alert = document.createElement('div');
        alert.className = `alert alert-${type} show`;
        alert.innerHTML = `<span>${message}</span>`;
        alertBox.appendChild(alert);
        
        setTimeout(() => alert.remove(), 4000);
    }

    // ===================== ITEMS MANAGEMENT =====================
    function addItemRow() {
        const table = document.getElementById('itemsTable');
        const row = document.createElement('tr');
        row.className = 'item-row';
        row.innerHTML = `
            <td><input type="text" class="item-name" placeholder="Item/Service Name"></td>
            <td><input type="number" class="item-qty" value="1" min="1" step="0.01" onchange="calculateTotals()"></td>
            <td>
                <select class="item-unit" onchange="calculateTotals()">
                    <option value="Piece">Piece</option>
                    <option value="kg">kg</option>
                    <option value="g">g</option>
                    <option value="Liter">Liter</option>
                    <option value="ml">ml</option>
                    <option value="Box">Box</option>
                    <option value="Pack">Pack</option>
                    <option value="Set">Set</option>
                    <option value="Hour">Hour</option>
                    <option value="Day">Day</option>
                    <option value="Month">Month</option>
                </select>
            </td>
            <td><input type="number" class="item-price" value="0" min="0" step="0.01" onchange="calculateTotals()"></td>
            <td class="item-total">0.00</td>
            <td><button class="btn-remove" onclick="removeItem(this)">‚úï</button></td>
        `;
        table.appendChild(row);
    }

    function removeItem(btn) {
        btn.closest('tr').remove();
        calculateTotals();
    }

    function calculateTotals() {
        const rows = document.querySelectorAll('#itemsTable .item-row');
        let subtotal = 0;
        
        rows.forEach(row => {
            const qty = parseFloat(row.querySelector('.item-qty').value) || 0;
            const price = parseFloat(row.querySelector('.item-price').value) || 0;
            const total = qty * price;
            row.querySelector('.item-total').textContent = total.toFixed(2);
            subtotal += total;
        });
        
        const discountPercent = parseFloat(document.getElementById('discountPercent').value) || 0;
        const discountAmount = subtotal * (discountPercent / 100);
        document.getElementById('discountAmount').value = discountAmount.toFixed(2);
        
        const afterDiscount = subtotal - discountAmount;
        const gstPercent = parseFloat(document.getElementById('gstPercent').value) || 0;
        const gstAmount = afterDiscount * (gstPercent / 100);
        document.getElementById('gstAmount').value = gstAmount.toFixed(2);
    }

    // ===================== LOGO UPLOAD =====================
    let logoBase64 = '';
    document.getElementById('logoUpload').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file.size > 500000) {
            showAlert('File must be < 500KB', 'error');
            return;
        }
        const reader = new FileReader();
        reader.onload = function() {
            logoBase64 = reader.result;
            showAlert('Logo uploaded!', 'success');
        };
        reader.readAsDataURL(file);
    });

    // ===================== INVOICE GENERATION =====================
    function generateInvoice() {
        if (!document.getElementById('bizName').value.trim()) {
            showAlert('Enter business name', 'error');
            return;
        }
        if (!document.getElementById('clientName').value.trim()) {
            showAlert('Enter customer name', 'error');
            return;
        }
        if (!document.getElementById('invoiceNo').value.trim()) {
            showAlert('Enter invoice number', 'error');
            return;
        }
        
        const rows = document.querySelectorAll('#itemsTable .item-row');
        let hasItems = false;
        rows.forEach(row => {
            if (row.querySelector('.item-name').value.trim()) {
                hasItems = true;
            }
        });
        
        if (!hasItems) {
            showAlert('Add at least one item', 'error');
            return;
        }
        
        if (!document.getElementById('invoiceDate').value) {
            document.getElementById('invoiceDate').valueAsDate = new Date();
        }
        
        const totals = calculateTotals();
        const invoice = generateInvoiceHTML();
        document.getElementById('pdfContent').innerHTML = invoice;
        document.getElementById('invoicePreview').style.display = 'block';
        document.getElementById('invoicePreview').scrollIntoView({ behavior: 'smooth' });
        
        showAlert('Invoice generated!', 'success');
    }

    function generateInvoiceHTML() {
        const bizName = document.getElementById('bizName').value;
        const bizEmail = document.getElementById('bizEmail').value;
        const gstNumber = document.getElementById('gstNumber').value;
        const bizAddress = document.getElementById('bizAddress').value;
        
        const clientName = document.getElementById('clientName').value;
        const clientEmail = document.getElementById('clientEmail').value;
        const clientPhone = document.getElementById('clientPhone').value;
        const clientAddress = document.getElementById('clientAddress').value;
        
        const invoiceNo = document.getElementById('invoiceNo').value;
        const invoiceDate = document.getElementById('invoiceDate').value;
        const dueDate = document.getElementById('dueDate').value;
        const returnDueDate = document.getElementById('returnDueDate').value;
        
        const gstPercent = parseFloat(document.getElementById('gstPercent').value) || 0;
        const discountPercent = parseFloat(document.getElementById('discountPercent').value) || 0;
        
        let itemsHTML = '';
        let subtotal = 0;
        const rows = document.querySelectorAll('#itemsTable .item-row');
        
        rows.forEach(row => {
            const name = row.querySelector('.item-name').value;
            const qty = parseFloat(row.querySelector('.item-qty').value);
            const unit = row.querySelector('.item-unit').value;
            const price = parseFloat(row.querySelector('.item-price').value);
            const total = qty * price;
            subtotal += total;
            
            if (name.trim()) {
                itemsHTML += `
                    <tr>
                        <td>${name}</td>
                        <td style="text-align: center;">${qty}</td>
                        <td style="text-align: center;">${unit}</td>
                        <td style="text-align: right;">‚Çπ${price.toFixed(2)}</td>
                        <td style="text-align: right;">‚Çπ${total.toFixed(2)}</td>
                    </tr>
                `;
            }
        });
        
        const discountAmount = subtotal * (discountPercent / 100);
        const afterDiscount = subtotal - discountAmount;
        const gstAmount = afterDiscount * (gstPercent / 100);
        const grandTotal = afterDiscount + gstAmount;
        
        const html = `
            <div class="invoice-header">
                <div>
                    ${logoBase64 ? `<img src="${logoBase64}" class="invoice-logo" alt="Logo">` : '<div style="width: 150px; height: 150px; background: #f0f0f0; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #999;">No Logo</div>'}
                </div>
                <div class="invoice-title">
                    <h2>INVOICE</h2>
                </div>
            </div>
            
            <div class="invoice-details">
                <div class="detail-block">
                    <h4>From</h4>
                    <p><strong>${bizName}</strong></p>
                    ${bizEmail ? `<p>Email: ${bizEmail}</p>` : ''}
                    ${gstNumber ? `<p>GST: ${gstNumber}</p>` : ''}
                    ${bizAddress ? `<p>${bizAddress}</p>` : ''}
                </div>
                
                <div class="detail-block">
                    <h4>Bill To</h4>
                    <p><strong>${clientName}</strong></p>
                    ${clientEmail ? `<p>Email: ${clientEmail}</p>` : ''}
                    ${clientPhone ? `<p>Phone: ${clientPhone}</p>` : ''}
                    ${clientAddress ? `<p>${clientAddress}</p>` : ''}
                </div>
                
                <div class="detail-block">
                    <h4>Invoice Dates</h4>
                    <p><strong>Invoice #:</strong> ${invoiceNo}</p>
                    <p><strong>Date:</strong> ${invoiceDate}</p>
                    ${dueDate ? `<p><strong>Due Date:</strong> ${dueDate}</p>` : ''}
                    ${returnDueDate ? `<p><strong>Return Due:</strong> ${returnDueDate}</p>` : ''}
                </div>
            </div>
            
            <table class="invoice-table">
                <thead>
                    <tr>
                        <th>Item Description</th>
                        <th style="width: 70px;">Qty</th>
                        <th style="width: 70px;">Unit</th>
                        <th style="width: 80px;">Price</th>
                        <th style="width: 80px;">Amount</th>
                    </tr>
                </thead>
                <tbody>
                    ${itemsHTML}
                </tbody>
            </table>
            
            <div class="invoice-totals">
                <div class="totals-column">
                    <div class="totals-row">
                        <span>Subtotal:</span>
                        <span>‚Çπ${subtotal.toFixed(2)}</span>
                    </div>
                    ${discountAmount > 0 ? `
                    <div class="totals-row">
                        <span>Discount (${discountPercent}%):</span>
                        <span>-‚Çπ${discountAmount.toFixed(2)}</span>
                    </div>
                    ` : ''}
                    ${gstAmount > 0 ? `
                    <div class="totals-row">
                        <span>GST (${gstPercent}%):</span>
                        <span>‚Çπ${gstAmount.toFixed(2)}</span>
                    </div>
                    ` : ''}
                    <div class="totals-row grand">
                        <span>Grand Total:</span>
                        <span>‚Çπ${grandTotal.toFixed(2)}</span>
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 50px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; font-size: 12px; color: #666;">
                <p>Thank you for your business!</p>
                ${returnDueDate ? `<p><strong>Items must be returned by:</strong> ${returnDueDate}</p>` : ''}
                <p>Generated by ToolNest Invoice Generator</p>
            </div>
        `;
        
        return html;
    }

    // ===================== PDF DOWNLOAD =====================
    async function downloadPDF() {
        const { jsPDF } = window.jspdf;
        const element = document.getElementById('pdfContent');
        
        if (!element || !element.innerHTML) {
            showAlert('Generate invoice first', 'error');
            return;
        }
        
        try {
            const canvas = await html2canvas(element, {
                scale: 2,
                logging: false,
                useCORS: true,
                backgroundColor: '#ffffff'
            });
            
            const imgData = canvas.toDataURL('image/png');
            const pdf = new jsPDF('p', 'mm', 'a4');
            const imgWidth = 210;
            const imgHeight = (canvas.height * imgWidth) / canvas.width;
            
            let heightLeft = imgHeight;
            let position = 0;
            
            pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
            heightLeft -= 297;
            
            while (heightLeft >= 0) {
                position = heightLeft - imgHeight;
                pdf.addPage();
                pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                heightLeft -= 297;
            }
            
            const invoiceNo = document.getElementById('invoiceNo').value || 'invoice';
            pdf.save(`${invoiceNo}.pdf`);
            
            saveToHistory();
            showAlert('PDF downloaded!', 'success');
        } catch (error) {
            console.error('PDF Error:', error);
            showAlert('Error generating PDF', 'error');
        }
    }

    // ===================== PRINT =====================
    function printInvoice() {
        if (!document.getElementById('pdfContent').innerHTML) {
            showAlert('Generate invoice first', 'error');
            return;
        }
        window.print();
    }

    // ===================== EDIT & CLEAR =====================
    function editInvoice() {
        document.getElementById('invoicePreview').style.display = 'none';
        window.scrollTo({ top: 0, behavior: 'smooth' });
        showAlert('Edit form and preview again', 'success');
    }

    function closePreview() {
        document.getElementById('invoicePreview').style.display = 'none';
    }

    function clearForm() {
        if (!confirm('Clear all form data?')) return;
        
        document.getElementById('bizName').value = '';
        document.getElementById('bizEmail').value = '';
        document.getElementById('gstNumber').value = '';
        document.getElementById('bizAddress').value = '';
        document.getElementById('clientName').value = '';
        document.getElementById('clientEmail').value = '';
        document.getElementById('clientPhone').value = '';
        document.getElementById('clientAddress').value = '';
        document.getElementById('invoiceNo').value = '';
        document.getElementById('invoiceDate').value = '';
        document.getElementById('dueDate').value = '';
        document.getElementById('returnDueDate').value = '';
        document.getElementById('discountPercent').value = '0';
        document.getElementById('gstPercent').value = '0';
        document.getElementById('logoUpload').value = '';
        logoBase64 = '';
        
        const table = document.getElementById('itemsTable');
        while (table.rows.length > 1) table.deleteRow(1);
        table.rows[0].querySelectorAll('input').forEach(input => {
            input.value = input.type === 'number' ? '1' : '';
        });
        
        document.getElementById('invoicePreview').style.display = 'none';
        showAlert('Form cleared!', 'success');
    }

    // ===================== LOCAL STORAGE =====================
    function saveToHistory() {
        const invoice = {
            id: Date.now(),
            invoiceNo: document.getElementById('invoiceNo').value,
            bizName: document.getElementById('bizName').value,
            clientName: document.getElementById('clientName').value,
            date: document.getElementById('invoiceDate').value,
            returnDate: document.getElementById('returnDueDate').value,
            total: document.querySelector('.totals-row.grand span:last-child')?.textContent || 'N/A',
            timestamp: new Date().toLocaleString(),
            formData: getFormData()
        };
        
        let history = JSON.parse(localStorage.getItem('invoiceHistory') || '[]');
        history.unshift(invoice);
        if (history.length > 100) history = history.slice(0, 100);
        localStorage.setItem('invoiceHistory', JSON.stringify(history));
    }

    function getFormData() {
        const items = [];
        document.querySelectorAll('#itemsTable .item-row').forEach(row => {
            items.push({
                name: row.querySelector('.item-name').value,
                qty: row.querySelector('.item-qty').value,
                unit: row.querySelector('.item-unit').value,
                price: row.querySelector('.item-price').value
            });
        });
        
        return {
            bizName: document.getElementById('bizName').value,
            bizEmail: document.getElementById('bizEmail').value,
            gstNumber: document.getElementById('gstNumber').value,
            bizAddress: document.getElementById('bizAddress').value,
            clientName: document.getElementById('clientName').value,
            clientEmail: document.getElementById('clientEmail').value,
            clientPhone: document.getElementById('clientPhone').value,
            clientAddress: document.getElementById('clientAddress').value,
            invoiceNo: document.getElementById('invoiceNo').value,
            invoiceDate: document.getElementById('invoiceDate').value,
            dueDate: document.getElementById('dueDate').value,
            returnDueDate: document.getElementById('returnDueDate').value,
            discountPercent: document.getElementById('discountPercent').value,
            gstPercent: document.getElementById('gstPercent').value,
            items: items,
            logo: logoBase64
        };
    }

    function loadHistory() {
        const history = JSON.parse(localStorage.getItem('invoiceHistory') || '[]');
        const container = document.getElementById('historyContainer');
        
        if (history.length === 0) {
            container.innerHTML = '<div class="empty-state" style="grid-column: 1 / -1;"><p style="font-size: 18px; font-weight: 600;">No invoices yet</p></div>';
            return;
        }
        
        container.innerHTML = history.map(inv => `
            <div class="history-card">
                <h4>${inv.invoiceNo}</h4>
                <p><strong>${inv.bizName}</strong></p>
                <p>Customer: ${inv.clientName}</p>
                <p>Date: ${inv.date}</p>
                ${inv.returnDate ? `<p>Return Due: ${inv.returnDate}</p>` : ''}
                <p>Total: <strong style="color: var(--primary);">${inv.total}</strong></p>
                <p style="font-size: 12px; color: #999;">Saved: ${inv.timestamp}</p>
                <div class="card-actions">
                    <button class="btn-primary" onclick="loadInvoice(${inv.id})">Load</button>
                    <button class="btn-secondary" onclick="viewInvoice(${inv.id})">View</button>
                    <button class="btn-danger" onclick="deleteInvoice(${inv.id})">Delete</button>
                </div>
            </div>
        `).join('');
    }

    function loadInvoice(id) {
        const history = JSON.parse(localStorage.getItem('invoiceHistory') || '[]');
        const invoice = history.find(inv => inv.id === id);
        
        if (!invoice || !invoice.formData) {
            showAlert('Could not load invoice', 'error');
            return;
        }
        
        const data = invoice.formData;
        
        document.getElementById('bizName').value = data.bizName;
        document.getElementById('bizEmail').value = data.bizEmail;
        document.getElementById('gstNumber').value = data.gstNumber;
        document.getElementById('bizAddress').value = data.bizAddress;
        document.getElementById('clientName').value = data.clientName;
        document.getElementById('clientEmail').value = data.clientEmail;
        document.getElementById('clientPhone').value = data.clientPhone;
        document.getElementById('clientAddress').value = data.clientAddress;
        document.getElementById('invoiceNo').value = data.invoiceNo;
        document.getElementById('invoiceDate').value = data.invoiceDate;
        document.getElementById('dueDate').value = data.dueDate;
        document.getElementById('returnDueDate').value = data.returnDueDate;
        document.getElementById('discountPercent').value = data.discountPercent;
        document.getElementById('gstPercent').value = data.gstPercent;
        logoBase64 = data.logo;
        
        const table = document.getElementById('itemsTable');
        table.innerHTML = '';
        
        data.items.forEach((item) => {
            const row = document.createElement('tr');
            row.className = 'item-row';
            row.innerHTML = `
                <td><input type="text" class="item-name" value="${item.name}"></td>
                <td><input type="number" class="item-qty" value="${item.qty}" min="1" step="0.01" onchange="calculateTotals()"></td>
                <td>
                    <select class="item-unit" onchange="calculateTotals()">
                        <option value="Piece" ${item.unit === 'Piece' ? 'selected' : ''}>Piece</option>
                        <option value="kg" ${item.unit === 'kg' ? 'selected' : ''}>kg</option>
                        <option value="g" ${item.unit === 'g' ? 'selected' : ''}>g</option>
                        <option value="Liter" ${item.unit === 'Liter' ? 'selected' : ''}>Liter</option>
                        <option value="ml" ${item.unit === 'ml' ? 'selected' : ''}>ml</option>
                        <option value="Box" ${item.unit === 'Box' ? 'selected' : ''}>Box</option>
                        <option value="Pack" ${item.unit === 'Pack' ? 'selected' : ''}>Pack</option>
                        <option value="Set" ${item.unit === 'Set' ? 'selected' : ''}>Set</option>
                        <option value="Hour" ${item.unit === 'Hour' ? 'selected' : ''}>Hour</option>
                        <option value="Day" ${item.unit === 'Day' ? 'selected' : ''}>Day</option>
                        <option value="Month" ${item.unit === 'Month' ? 'selected' : ''}>Month</option>
                    </select>
                </td>
                <td><input type="number" class="item-price" value="${item.price}" min="0" step="0.01" onchange="calculateTotals()"></td>
                <td class="item-total">${(parseFloat(item.qty) * parseFloat(item.price)).toFixed(2)}</td>
                <td><button class="btn-remove" onclick="removeItem(this)">‚úï</button></td>
            `;
            table.appendChild(row);
        });
        
        switchTab('create');
        calculateTotals();
        showAlert('Invoice loaded!', 'success');
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function viewInvoice(id) {
        loadInvoice(id);
        setTimeout(() => generateInvoice(), 500);
    }

    function deleteInvoice(id) {
        if (!confirm('Delete this invoice?')) return;
        
        let history = JSON.parse(localStorage.getItem('invoiceHistory') || '[]');
        history = history.filter(inv => inv.id !== id);
        localStorage.setItem('invoiceHistory', JSON.stringify(history));
        loadHistory();
        showAlert('Invoice deleted!', 'success');
    }

    function clearHistory() {
        if (!confirm('Clear ALL history permanently?')) return;
        
        localStorage.removeItem('invoiceHistory');
        loadHistory();
        showAlert('History cleared!', 'success');
    }

    // ===================== INITIALIZATION =====================
    window.addEventListener('DOMContentLoaded', function() {
        initDarkMode();
        
        document.getElementById('invoiceDate').valueAsDate = new Date();
        
        const lastNo = localStorage.getItem('lastInvoiceNo') || '0';
        const nextNo = parseInt(lastNo) + 1;
        document.getElementById('invoiceNo').value = `INV-${String(nextNo).padStart(4, '0')}`;
        localStorage.setItem('lastInvoiceNo', nextNo);
    });
</script>

</body>
</html>
